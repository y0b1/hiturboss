<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>hit your boss</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: url('background.png') center center / cover no-repeat; /* Set background image */
      overflow: hidden;
      font-size: 1.4em; /* 40% larger base font size */
    }

    .character {
      position: relative;
      width: 56vw; /* 40% larger than 40vw */
      max-width: 560px; /* 40% larger than 400px */
    }

    .body {
      width: 120%;         /* Make the body 20% wider */
      height: 800px;       /* Set a fixed height for the body image */
      display: block;
      margin-top: 400px;   /* Lower the body */
      object-fit: contain; /* Ensure the image scales nicely */
    }

    .head {
      position: absolute;
      bottom: -8%;
      left: 60%;
      transform: translateX(-50%);
      transform-origin: bottom center; /* anchor point */
      cursor: pointer;
      width: 700px; /* 40% larger than 500px */
      max-width: 133vw; /* 40% larger than 95vw */
      touch-action: manipulation; /* better for mobile */
    }

    /* Bobble animation */
    @keyframes bobble {
      0% { transform: translateX(-50%) rotate(0deg); }
      20% { transform: translateX(-50%) translateX(-14px); } /* 40% larger than 10px */
      40% { transform: translateX(-50%) translateX(14px); }
      60% { transform: translateX(-50%) translateX(-11px); } /* 40% larger than 8px */
      80% { transform: translateX(-50%) translateX(11px); }
      100% { transform: translateX(-50%) translateX(0px); }
    }

    .bobble {
      animation: bobble 0.2s ease;
    }

    .instruction {
      position: absolute;
      top: 100px; /* Lower the instruction text */
      width: 100%;
      text-align: center;
      z-index: 10;
      font-size: 2em;
      font-weight: bold;
      color: #fff;
      text-shadow: 2px 2px 8px #000, 0 4px 16px #222; /* Add extra shadow */
      font-family: Arial, Helvetica, sans-serif;
    }

    .bam-effect {
      position: absolute;
      pointer-events: none;
      width: 180px;
      height: auto;
      z-index: 100;
      animation: bam-fade 0.2s linear;
    }

    @keyframes bam-fade {
      0% { opacity: 1; }
      100% { opacity: 0; }
    }

    .apology {
      position: absolute;
      top: 230px; /* Lower the apology text */
      width: 100%;
      text-align: center;
      z-index: 10;
      font-size: 1.5em;
      color: #fff;
      display: none;
      font-family: Arial, Helvetica, sans-serif;
      text-shadow: 2px 2px 8px #000, 0 4px 16px #222; /* Add extra shadow */
    }
  </style>
</head>
<body>
  <div class="instruction">
    TAP ON THE HEAD TO HIT!
  </div>

  <div class="character">
    <img src="body.png" alt="Body" class="body">
    <img src="head.png" alt="Head" class="head" id="head">
  </div>

  <div class="apology" id="apology-text"></div>

  <audio id="ouch-sound" src="ouch.mp3" preload="auto"></audio>

  <script>
  const head = document.getElementById('head');
  const ouchSound = document.getElementById('ouch-sound');

  function showBam(x, y) {
    const bam = document.createElement('img');
    bam.src = 'bam.png';
    bam.className = 'bam-effect';
    bam.style.left = (x - 90) + 'px'; // Center bam.png horizontally
    bam.style.top = (y - 90) + 'px';  // Center bam.png vertically
    document.body.appendChild(bam);

    setTimeout(() => {
      bam.remove();
    }, 200);
  }

  function showApology() {
    const apologyText = document.getElementById('apology-text');
    const messages = [
      "sorry for not paying for overtime",
      "sorry for making you work for more shifts",
      "sorry for giving you a low raise",
      "sorry for making you work weekends",
      "sorry for not giving you benefits",
      "sorry for making you work late",
      "sorry for not appreciating your work",
      "sorry for giving you shitty coworkers"
    ];
    apologyText.textContent = messages[Math.floor(Math.random() * messages.length)];
    apologyText.style.display = 'block';
    setTimeout(() => {
      apologyText.style.display = 'none';
    }, 400);
  }

  // Only trigger when the head itself is hit
  function hitHead(event) {
    if (event.target !== head) return; // Only respond if the head is clicked/touched

    ouchSound.currentTime = 0;
    ouchSound.play();

    head.classList.remove('bobble');
    void head.offsetWidth; // reflow to restart animation
    head.classList.add('bobble');

    // Get click/tap coordinates
    let x, y;
    if (event.touches && event.touches.length) {
      x = event.touches[0].clientX;
      y = event.touches[0].clientY;
    } else {
      x = event.clientX;
      y = event.clientY;
    }
    showBam(x, y);
    showApology(); // Show apology text
  }

  head.addEventListener('click', hitHead);
  head.addEventListener('touchstart', hitHead);
  </script>

</body>
</html>
